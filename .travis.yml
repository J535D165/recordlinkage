sudo: false
python:
  - "3.6"
dist: xenial

addons:
  apt:
    packages:
      - pandoc

python:
  - "2.7"
  - "3.5"
  - "3.6"

env:
  - PANDAS="0.18"
  - PANDAS="0.19"
  - PANDAS="0.20"
  - PANDAS="0.21"
  - PANDAS="0.22"
  - PANDAS="latest"

matrix:
  include:
    - python: 3.6
      env: TOXENV=flake8
    - python: 3.6
      env: TOXENV=docs

install:
 - pip install wheel codecov coverage tox-travis
 - python setup.py bdist_wheel
 - pip install ./dist/recordlinkage-*.whl
script: tox --installpkg ./dist/recordlinkage-*.whl
after_success: coverage combine && codecov
